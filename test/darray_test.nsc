show_result() {
    if [ "$2" = "$3" ]
    then
	echo "OK. ($1)"
    else
	echo "error. ($1)  $2  $3"
    fi
}

new darray
darray::@="1 2 3 4 3 2 1"

s="${darray::join}"
show_result "join" "$s" "1.000000000000000e+00,2.000000000000000e+00,3.000000000000000e+00,4.000000000000000e+00,3.000000000000000e+00,2.000000000000000e+00,1.000000000000000e+00"

darray::rsort
s="${darray::join}"
show_result "rsort" "$s" "4.000000000000000e+00,3.000000000000000e+00,3.000000000000000e+00,2.000000000000000e+00,2.000000000000000e+00,1.000000000000000e+00,1.000000000000000e+00"

darray::sort
s="${darray::join}"
show_result "sort" "$s" "1.000000000000000e+00,1.000000000000000e+00,2.000000000000000e+00,2.000000000000000e+00,3.000000000000000e+00,3.000000000000000e+00,4.000000000000000e+00"

darray::uniq
s="${darray::join}"
show_result "uniq" "$s" "1.000000000000000e+00,2.000000000000000e+00,3.000000000000000e+00,4.000000000000000e+00"

s="${darray::seq}"
show_result "seq" "$s" "0 1 2 3"

s="${darray::rseq}"
show_result "rseq" "$s" "3 2 1 0"

s="${darray::pop}"
show_result "pop" "$s" "4.000000000000000e+00"

s="${darray::join}"
show_result "pop" "$s" "1.000000000000000e+00,2.000000000000000e+00,3.000000000000000e+00"

darray::push "4"
s="${darray::join}"
show_result "push" "$s" "1.000000000000000e+00,2.000000000000000e+00,3.000000000000000e+00,4.000000000000000e+00"

s="${darray::shift}"
show_result "shift" "$s" "1.000000000000000e+00"

s="${darray::join}"
show_result "shift" "$s" "2.000000000000000e+00,3.000000000000000e+00,4.000000000000000e+00"

darray::unshift "0"
s="${darray::join}"
show_result "unshift" "$s" "0.000000000000000e+00,2.000000000000000e+00,3.000000000000000e+00,4.000000000000000e+00"

del system
