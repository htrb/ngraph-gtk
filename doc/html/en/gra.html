<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title> GRA </title>
</head>
<body>
<a name=TOP>&nbsp;</a>
<h1> <a href=./ngraph.html>GRA files</a> </h1>
<ul>
 <li> <a href=./gra.html#GRAFILE>Summary</a>
 <li> <a href=./gra.html#GRAFILESTRUCTURE>File structure of GRA</a>
 <li> <a href=./gra.html#GRACOMMAND>GRA graphics command file</a>
</ul>
<br>
<hr size=5>
<br>
<a name=GRAFILE>&nbsp;</a>
<h2> <a href=./gra.html#TOP>Summary</a> </h2>
<br>
<div>
<p>GRA file lines, describing graphics instructions such as a circle, is a proprietary file format used as the merge of the graph Ngraph. </p>
<p> In addition, instruction is also used to send graphics to External driver. </p>
<h3> GRA file compatibility </h3>
<ul>
 <li>  GRA files Ngraph version 6.x, Ngraph version DOS (version 5.x) files differ slightly from GRA, is not compatible. 
 <li>  However, in the DOS version Ngraph Ngraph version 6.x (version 5.x) files to merge the GRA is possible. 
 <li>  GRA file structure and commands Ngraph DOS version, please refer to the documentation that is attached to Ngraph for DOS. 
 <li>  Commands in H Ngraph version 6.04 (the instruction given font metrics) have been extended.  GRA files created with version 6.04 can not be read by earlier versions. 
 <li>  C command Ngraph version 6.05 (ellipse drawing instructions) G command (instruction given color) has been expanded.  GRA files created with version 6.05 can not be read by earlier versions. </ul>
</div>
<br>
<hr>
<br>
<a name=GRAFILESTRUCTURE>&nbsp;</a>
<h2> <a href=./gra.html#TOP>File structure of GRA</a> </h2>
<br>
<div>
This example shows the file under the GRA. <br>
<pre>
 % Ngraph GRAF
 % Creator: Ngraph ver 6.00.01
 I, 5,0,0,21000,29700,10000
 V, 5,0,0,21000,29700,1
 G, 3,0,0,0
 A, 5,0,40,2,0,1000
 L, 4,3500,22000,17500,22000
 L, 4,3500,22000,3500,8000
 L, 4,3500,8000,17500,8000
 L, 4,17500,22000,17500,8000
 E, 0
</pre>
<p> The first line of the GRA GRA file is a file identifier
<pre>
 % Ngraph GRAF
</pre>
Should be. </p>
<p> The second line is described by the graphics commands, one per line.  Graphic shows the format of the command. </p>
<pre>
 command, n, arg1, arg2, ..., argn
<pre>

<ul>
 <li> The command I alphabet letters to specify graphics commands, E, V, A, G, M, N, L, T, C, B, P, R, D, is one of the H. 
 <li>  n is the number of arguments (integer) Represents. 
 <li>  arg1, ..., argn are arguments to graphics commands (integer).
</ul>
<p> Separate commands with spaces, tabs, commas can be used.  % Of
command, however, F, in the case of the S
<pre>
Sthis is a string
</pre>
Immediately after the command string argument as follows (in the example
above, this is a string) describe.  In this case, space, tab and comma
in the string argument is treated as normal characters.
</p>
</div>
<hr>
<a name=GRACOMMAND>&nbsp;</a>
<h2> <a href=./gra.html#TOP>Graphics commands for GRA file</a> </h2>
<div>
<p> Graphics command arguments unless otherwise specified unit is 0.01mm.  X coordinates increase in the right direction, is under the direction of Y-coordinate increases.  The numeric argument must be the integers. </p>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> I </td>
  <td> Initialization instruction </td>
  <td> I, 5, arg1, arg2, arg3, arg4, arg5 </td>
 </tr>
</table>
<p>
<dl>
 <dt> arg1
 <dd> Left margin
 <dt> arg2
 <dd> Top margin
 <dt> arg3
 <dd> Width of the output paper
 <dt> arg4
 <dd> High output paper
 <dt> arg5
 <dd> Expansion rate (0.01%)
</dl>
</p>
<ul>
 <li>  Initializing output device.  Called only once at the beginning in
      a single drawing.
</ul>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> E </td>
  <td> End instruction </td>
  <td> E, 0 </td>
 </tr>
</table>
<ul>
 <li>  Once called one of the last draw.  For post-processing of the output device.
</ul>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> % </td>
  <td> Comment </td>
  <td> % Comment </td>
 </tr>
</table>
<ul>
 <li>  The string argument (comments)
</ul>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> V </td>
  <td> Clipping region, the origin move instruction </td>
  <td> V, 5, arg1, arg2, arg3, arg4, arg5 </td>
 </tr>
</table>
<dl>
 <dt> arg1
 <dd> X coordinate of upper left, the new X coordinate origin
 <dt> arg2
 <dd> Y coordinate of upper left, the new Y coordinate origin
 <dt> arg3
 <dd> X coordinate of lower right
 <dt> arg4
 <dd> Y coordinate of lower right
 <dt> arg5 <dd>
      <ul>
       <li>  0: clipping off 
       <li>  1 clip-on
      </ul>
</dl>
<ul>
 <li>  Since this instruction, all instructions except the V instruction and become a clipping region to the upper-left origin. 
 <li>  Parameter specifies the number of origin at the upper left 0.01mm sheet A4. 
 <li> Clipping is not necessary because it is basically done Ngraph inside, but it is desirable to clip (moving origin is required).
</ul>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> A </td>
  <td> Command line attributes specified </td>
  <td> A, n, arg1, arg2 ,.... </td>
 </tr>
</table>
<dl>
 <dt> n
 <dd> +5 Dotted line element
 <dt> arg1
 <dd> 0: solid&gt; 1: number of elements in the dotted line
 <dt> arg2
 <dd> Line width
 <dt> arg3
 <dd> Arrowhead shape
      <ul>
       <li>  0: Butt 
       <li>  1: Round 
       <li>  2: Projecting
      </ul>
 <dt> arg4
 <dd> Shape line crossing
      <ul>
       <li>  0: Miter 
       <li>  1: Round 
       <li>  2: Bevel
      </ul>
 <dt> arg5
 <dd> Miter limit
 <dt> arg (i) - arg (i + 5) i = 1 - arg1
 <dd> Dotted line elements </dl>
</p>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> G </td>
  <td> Specify Color Instructions </td>
  <td> G, 4, arg1, arg2, arg3, arg4 </td>
 </tr>
</table>
<dl>
 <dt> arg1
 <dd> R (8bit)
 <dt> arg2
 <dd> G (8bit)
 <dt> arg3
 <dd> B (8bit)
 <dt> arg4
 <dd> A (8bit) (opacity)
</dl>
<ul>
 <li>  arg4 is the setting may be ignored by the driver or.
</ul>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> M </td>
  <td> Current point move instructions </td>
  <td> M, 2, arg1, arg2 </td>
 </tr>
</table>
<dl>
 <dt> arg1
 <dd> X coordinate
 <dt> arg2
 <dd> Y coordinate </dl>
<table border=1>
 <tr>
  <td> Command </td>
  <td>Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> N </td>
  <td> Relative to current point move instructions </td>
  <td> N, 2, arg1, arg2 </td>
 </tr>
</table>
<dl>
 <dt> arg1
 <dd> X-direction movement amount
 <dt> arg2
 <dd> Y-direction movement amount
</dl>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> L </td>
  <td> Line drawing instruction </td>
  <td> L, 4, arg1, arg2, arg3, arg4 </td>
 </tr>
</table>
<dl>
 <dt> arg1
 <dd> X coordinate of start point
 <dt> arg2
 <dd> Y coordinate of start point
 <dt> arg3
 <dd> X coordinate of end point
 <dt> arg4
 <dd> Y coordinate of end point </dl>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> T </td>
  <td> Relative to current point line drawing instructions </td>
  <td> T, 2, arg1, arg2 </td>
 </tr>
</table>
<dl>
 <dt> arg1
 <dd> X coordinate of end point, the new X coordinate of current point
 <dt> arg2
 <dd> Y coordinate of end point, the new Y coordinate of current point </dl>
<ul>
 <li> This instruction is executed, the current point is moved to the end.
</ul>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> C </td>
  <td> Ellipse drawing instructions </td>
  <td> C, 7, arg1, arg2, arg3, arg4, arg5, arg6, arg7 </td>
 </tr>
</table>
<dl>
 <dt> arg1
 <dd> X coordinate of the center
 <dt> arg2
 <dd> Y coordinate of the center
 <dt> arg3
 <dd> Radius of the X-direction
 <dt> arg4
 <dd> Radius in the Y direction
 <dt> arg5
 <dd> Elliptical arc start angle, in degrees 0.01 (0-36000)
 <dt> arg6
 <dd> Elliptical arc start angle, in degrees 0.01 (0-36000)
 <dt> arg7
 <dd>
      <ul>
       <li>  0: outline of a circle (internal 塗Ritsubusanai) 
       <li>  1 pie filling the interior 
       <li>  2: Paint the inside of the arc 
       <li>  3: Draw the outline wedges 
       <li>  4: Draw the outline bow
      </ul>
</dl>
<ul>
 <li>  Draw an elliptical arc in a counterclockwise direction, starting at an angle of arg6 arg5. 
 <li>  Angle, ellipse (x / a) ^ 2 + (y / b) x = a * cosθ a ^ 2 = 1, θ and parametric when y = b * sinθ.
</ul>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> B </td>
  <td> Rectangle drawing instructions </td>
  <td> B, 5, arg1, arg2, arg3, arg4, arg5 </td>
 </tr>
</table>
<dl>
 <dt> arg1
 <dd> X coordinate
 <dt> arg2
 <dd> Y coordinate
 <dt> arg3
 <dd> X coordinate of the diagonal
 <dt> arg4
 <dd> Y coordinate of the diagonal
 <dt> arg5
 <dd>
      <ul>
       <li>  0: outline of a rectangle (internal 塗Ritsubusanai) 
       <li>  1: Paint the inside
      </ul>
</dl>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> P </td>
  <td> Pointillism instruction </td>
  <td> P, 2, arg1, arg2 </td>
 </tr>
</table>
<dl>
 <dt> arg1
 <dd> X coordinate
 <dt> arg2
 <dd> Y coordinate
</dl>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> R </td>
  <td> Polygon drawing commands </td>
  <td> R, n, arg1, arg2, ... </td>
 </tr>
</table>
<dl>
 <dt> n
 <dd> Number of points * 2 +1
 <dt> arg1
 <dd> The number of points
 <dt> arg (i * 2 + 0) i = 1 - arg1
 <dd> X coordinate
 <dt> arg (i * 2 + 1) i = 1 - arg1
 <dd> Y coordinate
</dl>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> D </td>
  <td> Rectangular drawing instructions 閉多 </td>
  <td> D, n, arg1, arg2, ... </td>
 </tr>
</table>
<dl>
 <dt> n
 <dd> 2 +2 * number of points
 <dt> arg1
 <dd> The number of points
 <dt> arg2
 <dd>
      <ul>
       <li>  0: outline of a polygon (internal 塗Ritsubusanai) 
       <li>  1: Paint the inside (EvenOddRule) 
       <li>  2: filling the interior (WindingRule)
      </ul>
 <dt> arg (i * 2 + 1) i = 1 - arg1
 <dd> X coordinate
 <dt> arg (i * 2 + 2) i = 1 - arg1
 <dd> Y coordinate </dl>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> F </td>
  <td> Font selection command </td>
  <td> Ffont </td>
 </tr>
</table>
<ul>
 <li>  String argument (Font font name aliases) 
 <li>  Mapping the actual font to the driver
</ul>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> H </td>
  <td> Instructions given font metrics </td>
  <td> H, 4, arg1, arg2, arg3, arg4 </td>
 </tr>
</table>
<dl>
 <dt> arg1
 <dd> Point font size, per 0.01pt (1pt = 1/72inch)
 <dt> arg2
 <dd> Amount of points the character spacing units 0.01pt
 <dt> arg3
 <dd> Drawing direction, in degrees counterclockwise from the X axis 0.01
 <dt> arg4
 <dd> Style, 0: normal, 1: bold, 2: the sum of the italic
</dl>
<ul>
 <li>  All letters must be scalable.
</ul>
<table border=1>
 <tr>
  <td> Command </td>
  <td> Function </td>
  <td> Form </td>
 </tr>
 <tr>
  <td> S </td>
  <td> Drawing instruction string </td>
  <td> Sstring </td>
 </tr>
</table>
<ul>
 <li>  Argument string (string is UTF-8 string).
</ul>
</div>
<hr>
</body>
</html>
